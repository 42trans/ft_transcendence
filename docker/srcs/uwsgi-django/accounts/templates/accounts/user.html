{% extends 'base.html' %}
{% load static %}
{% block title %}User profile - hth Pong{% endblock title %}
{% block content %}
<div class="canvas-container">
	<div class="hs-text">
		<div class="container " >

			<div class="user-info-container">
				<h1>User Page</h1>
				<ul id="user-info">
					<!-- JavaScriptで動的に内容が生成される -->
				</ul>
			</div>

		</div>
	</div>
</div>
<script src="{% static 'accounts/js/userProfile.js' %}"></script>
<script src="{% static 'accounts/js/logout.js' %}"></script>
{% endblock %}


<!-- 
<script>
    document.addEventListener("DOMContentLoaded", function() {
        fetch("/accounts/api/user/profile/")
            .then(response => response.json())
            .then(data => {
                const userInfo = document.getElementById("user-info");
                userInfo.innerHTML = `
            <li>Email: ${data.email}</li>
            <li>Nickname: ${data.nickname}</li>
            ${data.has_usable_password ? '<li>Password: ******</li>' : ''}
            <li><a href="/accounts/edit/">Edit Profile</a></li>
            <br>
            ${data.enable_2fa ?
                    `<li>2FA: ✅Enabled</li><li><a href="/accounts/verify/disable_2fa/">Disable 2FA</a></li>` :
                    `<li>2FA: Disabled</li><li><a href="/accounts/verify/enable_2fa/">Enable 2FA</a></li>`}
            <br>
            <button onclick="handleLogout()">Logout</button>
        `;
            })
            .catch(error => console.error("Error:", error));
    });
</script> -->